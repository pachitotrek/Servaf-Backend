{"version":3,"sources":["./src/app/pages/usuario/usuario.page.html","./src/app/pages/usuario/usuario-routing.module.ts","./src/app/pages/usuario/usuario.module.ts","./src/app/pages/usuario/usuario.page.scss","./src/app/pages/usuario/usuario.page.ts"],"names":[],"mappings":"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","file":"pages-usuario-usuario-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <app-menu></app-menu>\\n </ion-header>\\n \\n <ion-content>\\n \\n   <div class=\\\"container-fluid\\\">\\n \\n     <div class=\\\"row\\\" *ngIf=\\\"ready\\\">\\n       <div class=\\\"col-sm-8\\\">\\n         <div class=\\\"text-center mt-2\\\">\\n           <ion-item text-center color=\\\"primary\\\">\\n             <ion-label>Mi Usuario</ion-label>\\n           </ion-item>\\n           <div class=\\\"text-center table-responsive\\\">\\n             <table class=\\\"table\\\">\\n               <thead class=\\\"thead-dark\\\">\\n                 <tr>\\n                   <th scope=\\\"col\\\">Nombre</th>\\n                   <th scope=\\\"col\\\">Apellido</th>\\n                   <th scope=\\\"col\\\">Username</th>\\n                   <th scope=\\\"col\\\">Cargo</th>\\n                   <th scope=\\\"col\\\">Gestionar</th>\\n                 </tr>\\n               </thead>\\n               <tbody>\\n                 <tr>\\n                   <th scope=\\\"row\\\">{{usuario.nombre}}</th>\\n                   <td>{{usuario.apellido}}</td>\\n                   <td>{{usuario.username}}</td>\\n                   <td>{{usuario.cargo}}</td>\\n                   <td style=\\\"max-width: 130px;\\\" text-center>\\n                     <ion-button (click)=\\\"setUser(usuario)\\\" size=\\\"small\\\" color=\\\"success\\\">\\n                       <ion-icon slot=\\\"icon-only\\\" name=\\\"create\\\"></ion-icon>\\n                     </ion-button>\\n                     <ion-button (click)=\\\"setPass(usuario._id)\\\" size=\\\"small\\\" color=\\\"secondary\\\">\\n                       <ion-icon slot=\\\"icon-only\\\" name=\\\"lock\\\"></ion-icon>\\n                     </ion-button>\\n                     <ion-button (click)=\\\"delete(usuario)\\\" size=\\\"small\\\" color=\\\"danger\\\">\\n                       <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n                     </ion-button>\\n                   </td>\\n                 </tr>\\n               </tbody>\\n             </table>      \\n           </div>\\n         </div>\\n       </div>\\n       <div class=\\\"col-sm-4\\\">\\n         <div *ngIf=\\\"pannel\\\">\\n           <ion-item color=\\\"primary\\\" text-center class=\\\"mt-2\\\" *ngIf=\\\"edit\\\">\\n             <ion-icon name=\\\"refresh-circle\\\" slot=\\\"end\\\" (click)=\\\"refresh()\\\"></ion-icon>\\n             <ion-label>Editar Usuario</ion-label>\\n           </ion-item> \\n         </div>\\n         <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"crear()\\\" *ngIf=\\\"pannel\\\">\\n           <div class=\\\"form-group\\\">\\n             <label>Nombre</label>\\n             <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"nombre\\\" aria-describedby=\\\"\\\">\\n             <small class=\\\"form-text text-muted\\\">Nombre del Usuario</small>\\n           </div>\\n           <div class=\\\"form-group\\\">\\n             <label>Apellido</label>\\n             <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"apellido\\\" aria-describedby=\\\"\\\">\\n             <small class=\\\"form-text text-muted\\\">Apellido del Usuario</small>\\n           </div>\\n           <div class=\\\"form-group\\\">\\n            <label>Usuario</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"username\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Usuario para ingresar</small>\\n          </div>\\n           <div class=\\\"form-group\\\">\\n             <label>Cargo</label>\\n             <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"cargo\\\" aria-describedby=\\\"\\\">\\n             <small class=\\\"form-text text-muted\\\">Cargo del Usuario</small>\\n           </div>     \\n           <div class=\\\"form-group\\\">\\n             <label for=\\\"exampleFormControlSelect1\\\">Tipo de Usuario</label>\\n             <select class=\\\"form-control\\\" id=\\\"exampleFormControlSelect1\\\" formControlName=\\\"role\\\">\\n               <option value=\\\"1\\\">Administrador</option>\\n               <option value=\\\"2\\\">Coordinador</option>\\n               <option value=\\\"3\\\">Operador</option>\\n             </select>\\n           </div>     \\n          \\n           <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"!form.valid\\\"  *ngIf=\\\"!edit\\\">Crear Usuario</button>\\n           <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!form.valid\\\" (click)=\\\"update()\\\"  *ngIf=\\\"edit\\\">Actualizar Usuario</button>\\n         </form>\\n         <ion-item color=\\\"primary\\\" text-center class=\\\"mt-2\\\" *ngIf=\\\"editpass\\\" >\\n           <ion-icon name=\\\"refresh-circle\\\" slot=\\\"end\\\" (click)=\\\"refresh()\\\"></ion-icon>\\n           <ion-label>Cambiar Contraseña del Usuario</ion-label>\\n         </ion-item>  \\n         <form [formGroup]=\\\"form2\\\" (ngSubmit)=\\\"updatePass()\\\" *ngIf=\\\"editpass\\\">\\n           <div class=\\\"form-group\\\">\\n             <label>Nueva Contraseña</label>\\n             <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"pass\\\" aria-describedby=\\\"\\\">\\n             <small class=\\\"form-text text-muted\\\">Nueva Contraseña del Usuario</small>\\n           </div>\\n           <div class=\\\"form-group\\\">\\n             <label>Repetir la Contraseña</label>\\n             <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"pass2\\\" aria-describedby=\\\"\\\">\\n             <small class=\\\"form-text text-muted\\\">Repita Contraseña del Usuario</small>\\n           </div>          \\n           <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!form2.valid\\\">Actualizar Usuario</button>\\n         </form> \\n       </div>\\n \\n     </div>\\n \\n   </div>\\n \\n \\n </ion-content>\\n \\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UsuarioPage } from './usuario.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UsuarioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UsuarioPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UsuarioPageRoutingModule } from './usuario-routing.module';\n\nimport { UsuarioPage } from './usuario.page';\nimport { ComponentesModule } from 'src/app/components/componentes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ComponentesModule,\n    ReactiveFormsModule,\n    IonicModule,\n    UsuarioPageRoutingModule\n  ],\n  declarations: [UsuarioPage]\n})\nexport class UsuarioPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzdWFyaW8vdXN1YXJpby5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { AuxService } from 'src/app/services/auxiliar.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { LocalStorageService } from 'src/app/services/local-storage.service';\n\n\n@Component({\n  selector: 'app-usuario',\n  templateUrl: './usuario.page.html',\n  styleUrls: ['./usuario.page.scss'],\n})\nexport class UsuarioPage implements OnInit {\n  form:FormGroup;\n  form2: FormGroup;\n  edit:boolean=true;\n  editpass:boolean=false;\n  pannel:boolean=true;\n  usuario: any=[];\n  ready:boolean=false;\n\n  \n  constructor(private aux:AuxService,private uS:UserService,private ls:LocalStorageService) { \n    this.form= new FormGroup({\n      nombre:new FormControl(null,Validators.required),\n      apellido:new FormControl(null,Validators.required),\n      username:new FormControl(null,Validators.required),\n      cargo :new FormControl(null,Validators.required),       \n      role:new FormControl(null,Validators.required),\n      pass:new FormControl(null),\n      creado:new FormControl(null),\n      _id:new FormControl(null)  \n    });\n\n    this.form2= new FormGroup({\n      pass:new FormControl(null,Validators.required),\n      pass2:new FormControl(null,Validators.required),\n      _id:new FormControl(null,Validators.required) \n  });\n\n  }\n\n  ngOnInit() {\n    this.getUsuario();\n  }\n\n    \n  crear(){\n    this.aux.createLoading().then((x:any)=>{     \n      this.uS.register(this.form.value).subscribe((resp:any)=>{     \n        if(resp.ok){\n          this.aux.dismissLoading().then((b:any)=>{\n            this.aux.createAlert(\"Exito\",\"El Usuario ha sido creado\");\n            this.getDatosUsuario(this.usuario._id);\n            this.form.reset();\n          })\n        }\n      });\n\n    }).catch((e:any)=>{\n      this.aux.dismissLoading().then((b:any)=>{\n        this.aux.createAlert(\"Error desconocido\",\"Error por favor contacte con soporte\");\n      })\n\n    })\n  }\n  \n  update(){\n    this.aux.createLoading().then((x:any)=>{     \n      this.uS.update(this.form.value).subscribe((resp:any)=>{     \n        if(resp.ok){\n          this.aux.dismissLoading().then((b:any)=>{\n            this.aux.createAlert(\"Exito\",\"El Usuario ha sido actualizado\");\n            this.getUsuario();\n            this.form.reset();\n          })\n        }\n      });\n\n    }).catch((e:any)=>{\n      this.aux.dismissLoading().then((b:any)=>{\n        this.aux.createAlert(\"Error desconocido\",\"Error por favor contacte con soporte\");\n      })\n\n    })\n  }\n\n\n  getDatosUsuario(id){\n    this.uS.GetUser(id).subscribe((resp:any)=>{\n      if(resp.ok){\n        this.usuario=resp.data[0];\n        this.ready=true;\n      }\n    })\n  }\n\n  setPass(id){\n    this.editpass=true;\n    this.pannel=false;\n    this.form2.patchValue({_id:id});\n  }\n\n  setUser(item){\n    this.form.setValue(item);\n  }\n\n  refresh(){\n    this.editpass=false;\n    this.pannel=true;\n  }\n\n  getUsuario(){\n    this.ls.cargarStorage('usuario').then((data:any)=>{\n      this.usuario=data;  \n      this.getDatosUsuario(this.usuario._id);      \n    });\n  }\n\n\n  updatePass(){\n    this.aux.createLoading().then((x:any)=>{     \n      this.uS.updatePass(this.form2.value).subscribe((resp:any)=>{     \n        if(resp.ok){\n          this.aux.dismissLoading().then((b:any)=>{\n            this.aux.createAlert(\"Exito\",\"El Ha cambiado la contraseña ha sido actualizada\");\n            this.getUsuario();\n            this.form2.reset();\n          })\n        }\n      });\n\n    }).catch((e:any)=>{\n      this.aux.dismissLoading().then((b:any)=>{\n        this.aux.createAlert(\"Error desconocido\",\"Error por favor contacte con soporte\");\n      })\n\n    })\n\n  \n  }\n\n}\n"],"sourceRoot":""}
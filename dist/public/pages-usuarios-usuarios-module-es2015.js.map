{"version":3,"sources":["./src/app/pages/usuarios/usuarios.page.html","./src/app/pages/usuarios/usuarios-routing.module.ts","./src/app/pages/usuarios/usuarios.module.ts","./src/app/pages/usuarios/usuarios.page.scss","./src/app/pages/usuarios/usuarios.page.ts"],"names":[],"mappings":"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","file":"pages-usuarios-usuarios-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n <app-menu></app-menu>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"container-fluid\\\">\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-8\\\">\\n        <div class=\\\"text-center mt-2\\\">\\n          <ion-item text-center color=\\\"primary\\\">\\n            <ion-label>Usuarios Actuales</ion-label>\\n          </ion-item>\\n          <div class=\\\"text-center table-responsive\\\">\\n            <table class=\\\"table\\\">\\n              <thead class=\\\"thead-dark\\\">\\n                <tr>\\n                  <th scope=\\\"col\\\">Nombre</th>\\n                  <th scope=\\\"col\\\">Apellido</th>\\n                  <th scope=\\\"col\\\">Username</th>\\n                  <th scope=\\\"col\\\">Cargo</th>\\n                  <th scope=\\\"col\\\">Gestionar</th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <tr *ngFor=\\\"let item of usuarios\\\">\\n                  <th scope=\\\"row\\\">{{item.nombre}}</th>\\n                  <td>{{item.apellido}}</td>\\n                  <td>{{item.username}}</td>\\n                  <td>{{item.cargo}}</td>\\n                  <td style=\\\"max-width: 130px;\\\" text-center>\\n                    <ion-button (click)=\\\"setUser(item)\\\" size=\\\"small\\\" color=\\\"success\\\">\\n                      <ion-icon slot=\\\"icon-only\\\" name=\\\"create\\\"></ion-icon>\\n                    </ion-button>\\n                    <ion-button (click)=\\\"setPass(item._id)\\\" size=\\\"small\\\" color=\\\"secondary\\\">\\n                      <ion-icon slot=\\\"icon-only\\\" name=\\\"lock\\\"></ion-icon>\\n                    </ion-button>\\n                    <ion-button (click)=\\\"delete(item)\\\" size=\\\"small\\\" color=\\\"danger\\\">\\n                      <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n                    </ion-button>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>      \\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"col-sm-4\\\">\\n        <div *ngIf=\\\"pannel\\\">\\n          <ion-item color=\\\"primary\\\" text-center class=\\\"mt-2\\\" *ngIf=\\\"edit\\\">\\n            <ion-icon name=\\\"refresh-circle\\\" slot=\\\"end\\\" (click)=\\\"refresh()\\\"></ion-icon>\\n            <ion-label>Editar Usuario</ion-label>\\n          </ion-item>\\n          <ion-item color=\\\"primary\\\" text-center class=\\\"mt-2\\\" *ngIf=\\\"!edit\\\">\\n            <ion-icon name=\\\"refresh-circle\\\" slot=\\\"end\\\" (click)=\\\"refresh()\\\"></ion-icon>\\n            <ion-label>Crear Usuario</ion-label>\\n          </ion-item>      \\n        </div>\\n        <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"crear()\\\" *ngIf=\\\"pannel\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Nombre</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"nombre\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Nombre del Usuario</small>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label>Apellido</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"apellido\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Apellido del Usuario</small>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label>Usuario</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"username\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Usuario para ingresar</small>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label>Cargo</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"cargo\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Cargo del Usuario</small>\\n          </div>     \\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"exampleFormControlSelect1\\\">Tipo de Usuario</label>\\n            <select class=\\\"form-control\\\" id=\\\"exampleFormControlSelect1\\\" formControlName=\\\"role\\\">\\n              <option value=\\\"1\\\">Administrador</option>\\n              <option value=\\\"2\\\">Coordinador</option>\\n              <option value=\\\"3\\\">Operador</option>\\n            </select>\\n          </div>     \\n         \\n          <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"!form.valid\\\"  *ngIf=\\\"!edit\\\">Crear Usuario</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!form.valid\\\" (click)=\\\"update()\\\"  *ngIf=\\\"edit\\\">Actualizar Usuario</button>\\n        </form>\\n        <ion-item color=\\\"primary\\\" text-center class=\\\"mt-2\\\" *ngIf=\\\"editpass\\\" >\\n          <ion-icon name=\\\"refresh-circle\\\" slot=\\\"end\\\" (click)=\\\"refresh()\\\"></ion-icon>\\n          <ion-label>Cambiar Contraseña del Usuario</ion-label>\\n        </ion-item>  \\n        <form [formGroup]=\\\"form2\\\" (ngSubmit)=\\\"updatePass()\\\" *ngIf=\\\"editpass\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Nueva Contraseña</label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"pass\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Nueva Contraseña del Usuario</small>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label>Repetir la Contraseña</label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"pass2\\\" aria-describedby=\\\"\\\">\\n            <small class=\\\"form-text text-muted\\\">Repita Contraseña del Usuario</small>\\n          </div>          \\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!form2.valid\\\">Actualizar Usuario</button>\\n        </form>\\n\\n\\n\\n      </div>\\n\\n    </div>\\n\\n  </div>\\n\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UsuariosPage } from './usuarios.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UsuariosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UsuariosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UsuariosPageRoutingModule } from './usuarios-routing.module';\n\nimport { UsuariosPage } from './usuarios.page';\nimport { ComponentesModule } from 'src/app/components/componentes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ComponentesModule,\n    ReactiveFormsModule,\n    IonicModule,\n    UsuariosPageRoutingModule\n  ],\n  declarations: [UsuariosPage]\n})\nexport class UsuariosPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzdWFyaW9zL3VzdWFyaW9zLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { AuxService } from 'src/app/services/auxiliar.service';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-usuarios',\n  templateUrl: './usuarios.page.html',\n  styleUrls: ['./usuarios.page.scss'],\n})\nexport class UsuariosPage implements OnInit {\n  form:FormGroup;\n  form2: FormGroup;\n  edit:boolean=false;\n  editpass:boolean=false;\n  pannel:boolean=true;\n  usuarios: any;\n\n\n  constructor(private aux:AuxService,private uS:UserService) { \n    this.form= new FormGroup({\n      nombre:new FormControl(null,Validators.required),\n      apellido:new FormControl(null,Validators.required),\n      username:new FormControl(null),\n      creado:new FormControl(null),\n      cargo :new FormControl(null,Validators.required),       \n      role:new FormControl(null,Validators.required),\n      pass:new FormControl(null),\n      _id:new FormControl(null)  \n    });\n\n    this.form2= new FormGroup({\n      pass:new FormControl(null,Validators.required),\n      pass2:new FormControl(null,Validators.required),\n      _id:new FormControl(null,Validators.required) \n  });\n\n  }\n\n  ngOnInit() {\n    this.getUsuarios();\n  }\n\n  \n  crear(){\n    this.aux.createLoading().then((x:any)=>{     \n      this.uS.register(this.form.value).subscribe((resp:any)=>{     \n        if(resp.ok){\n          this.aux.dismissLoading().then((b:any)=>{\n            this.aux.createAlert(\"Exito\",\"El Usuario ha sido creado\");\n            this.getUsuarios();\n            this.form.reset();\n          })\n        }\n      });\n\n    }).catch((e:any)=>{\n      this.aux.dismissLoading().then((b:any)=>{\n        this.aux.createAlert(\"Error desconocido\",\"Error por favor contacte con soporte\");\n      })\n\n    })\n  }\n\n  \n  getUsuarios(){\n    this.uS.GetUsers().subscribe((resp:any)=>{\n      if(resp.ok){\n        this.usuarios=resp.usuarios;\n      }\n    })\n  }\n\n  setPass(id){\n    this.editpass=true;\n    this.pannel=false;\n    this.form2.patchValue({_id:id});\n  }\n\n  setUser(item){\n    this.form.setValue(item);\n    this.edit=true;\n  }\n\n  refresh(){\n    this.editpass=false;\n    this.pannel=true;\n    this.form.reset();\n  }\n\n    \n  update(){\n    this.aux.createLoading().then((x:any)=>{     \n      this.uS.update(this.form.value).subscribe((resp:any)=>{     \n        if(resp.ok){\n          this.aux.dismissLoading().then((b:any)=>{\n            this.aux.createAlert(\"Exito\",\"El Usuario ha sido actualizado\");\n           this.getUsuarios();\n            this.form.reset();\n          })\n        }\n      });\n\n    }).catch((e:any)=>{\n      this.aux.dismissLoading().then((b:any)=>{\n        this.aux.createAlert(\"Error desconocido\",\"Error por favor contacte con soporte\");\n      })\n\n    })\n  }\n\n  \n\n\n  updatePass(){\n    this.aux.createLoading().then((x:any)=>{     \n      this.uS.updatePass(this.form2.value).subscribe((resp:any)=>{     \n        if(resp.ok){\n          this.aux.dismissLoading().then((b:any)=>{\n            this.aux.createAlert(\"Exito\",\"El Ha cambiado la contraseña ha sido actualizada\");\n            this.getUsuarios();\n            this.form2.reset();\n          })\n        }\n      });\n\n    }).catch((e:any)=>{\n      this.aux.dismissLoading().then((b:any)=>{\n        this.aux.createAlert(\"Error desconocido\",\"Error por favor contacte con soporte\");\n      })\n\n    })\n\n  \n  }\n\n\n\n\n}\n"],"sourceRoot":""}